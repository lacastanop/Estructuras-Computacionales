# Estructuras-Computacionales
Programación básica para una placa STM32, con la extensión del visual code STM32 
```text
+-------------------------------------------------------------------------------------------------+
|                                     HARDWARE EXTERNO                                            |
|                                                                                                 |
|   +------------------+         +----------------------------+         +----------------------+   |
|   | Teclado Matricial|         |      Placa NUCLEO          |         |      PC/Terminal     |   |
|   |      (4x4)       |         |   (Microcontrolador STM32) |         |      (Monitor Serie) |   |
|   +------------------+         +----------------------------+         +----------------------+   |
|           |                                 |                                    ^            |
|           | <---- [Filas: Salida] -----------+                                    |            |
|           | ----> [Columnas: Entrada] -----> | <-------- [USB/UART] --------------+            |
|           |                                 |                                                 |
|   +------------------+                      |                                                 |
|   |       LED        | <---- [GPIO Salida] --+                                                 |
|   +------------------+                                                                        |
|                                                                                                 |
+-------------------------------------------------------------------------------------------------+
      |                                      |
      |          INTERNO DEL MICROCONTROLADOR (SOFTWARE)
      |                                      |
      V                                      V
+-------------------------------------------------------------------------------------------------+
|                                                                                                 |
|   +-----------------------+     (1. Disparo por flanco de bajada)      +---------------------+  |
|   |      Pines GPIO       | -----------------------------------------> |        EXTI         |  |
|   | (Columnas del Teclado)|                                            | (Hardware Interrupt)|  |
|   +-----------------------+                                            +---------------------+  |
|                                                                                  | (2. Llama al ISR) |
|                                                                                  V                 |
|                                                                    +---------------------------+ |
|                                                                    | HAL_GPIO_EXTI_Callback()  | |
|                                                                    | (Interrupt Service Routine)| |
|                                                                    +---------------------------+ |
|                                                                                  | (3. Llama a escanear) |
|                                                                                  V                 |
|                                                                    +---------------------------+ |
|                                                                    |   Keypad Driver           | |
|   +-------------------------+                                      |   (`keypad_scan`)         | |
|   | Bucle Principal (while 1))| <----------------------------------+---------------------------+ |
|   | en `main.c`             |         (8. El bucle continúa)       |             | (4. Devuelve tecla)|
|   +-------------------------+                                      |             V                |
|           | (6. Lee tecla si hay)                        +------------------------------------+ |
|           |                                              |      Callback escribe la tecla     | |
|           V                                              +------------------------------------+ |
|   +-------------------------+                                      | (5. Escribe tecla)      |
|   |      Ring Buffer        | <------------------------------------+                         |
|   |    (keypad_rb)          |                                                                |
|   +-------------------------+                                                                |
|           |                                                                                  |
|           | (7. Lógica de Control de Acceso)                                                 |
|           V                                                                                  |
|   +-------------------------+     (Compara clave, decide acción)     +---------------------+ |
|   |   Lógica de Aplicación  | -------------------------------------> |     LED Driver      | |
|   |      (en main.c)        |                                        +---------------------+ |
|   +-------------------------+                                                  |             |
|           |                                                                    | (Controla GPIO)|
|           +--------------------------------------------------------------------+             |
|                             (Imprime estado vía `printf` -> UART)                            |
+-------------------------------------------------------------------------------------------------+
``` 